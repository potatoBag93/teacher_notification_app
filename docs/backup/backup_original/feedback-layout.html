<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>아이디어 제안 - 교사용 알림장 도우미</title>
    <link rel="stylesheet" href="../components/theme.css">
    <link rel="stylesheet" href="../components/components.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        .app-layout { 
            display: flex; 
            height: 100vh; 
            background: var(--secondary-50); 
        }
        
        /* 사이드바 */
        .sidebar { 
            width: 280px; 
            background: var(--secondary-800); 
            color: white; 
            display: flex; 
            flex-direction: column; 
            box-shadow: var(--shadow-lg); 
        }
        
        .sidebar-header { 
            padding: var(--space-6); 
            border-bottom: 1px solid var(--secondary-700); 
        }
        
        .sidebar-logo { 
            font-size: var(--text-xl); 
            font-weight: var(--font-bold); 
            margin-bottom: var(--space-4);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }
        
        .user-info { 
            font-size: var(--text-sm); 
            color: var(--secondary-300); 
        }
        
        .sidebar-nav { 
            flex: 1; 
            padding: var(--space-6) 0; 
        }
        
        .nav-section { 
            margin-bottom: var(--space-8); 
        }
        
        .nav-title { 
            padding: 0 var(--space-6) var(--space-3); 
            font-size: var(--text-xs); 
            text-transform: uppercase; 
            color: var(--secondary-400); 
            font-weight: var(--font-semibold); 
        }
        
        .nav-item { 
            padding: var(--space-3) var(--space-6); 
            cursor: pointer; 
            transition: all var(--duration-fast) var(--ease-in-out); 
            border-left: 3px solid transparent;
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }
        
        .nav-item:hover { 
            background: var(--secondary-700); 
        }
        
        .nav-item.active { 
            background: var(--primary-600); 
            border-left-color: var(--primary-400); 
        }
        
        /* 메인 콘텐츠 */
        .main-content { 
            flex: 1; 
            display: flex; 
            flex-direction: column; 
            overflow: hidden; 
        }
        
        .top-bar { 
            background: white; 
            padding: var(--space-4) var(--space-6); 
            border-bottom: 1px solid var(--secondary-200); 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
        }
        
        .page-title {
            font-size: var(--text-2xl);
            font-weight: var(--font-bold);
            color: var(--secondary-900);
        }
        
        .content-area {
            flex: 1;
            overflow-y: auto;
            padding: var(--space-6);
        }
        
        /* 피드백 레이아웃 */
        .feedback-layout {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: var(--space-6);
            height: 100%;
        }
        
        .feedback-main {
            display: flex;
            flex-direction: column;
            gap: var(--space-6);
        }
        
        .feedback-sidebar {
            display: flex;
            flex-direction: column;
            gap: var(--space-6);
        }
        
        /* 새 아이디어 제안 폼 */
        .suggestion-form {
            background: white;
            border: 1px solid var(--secondary-200);
            border-radius: var(--rounded-lg);
            padding: var(--space-6);
            box-shadow: var(--shadow-sm);
        }
        
        .form-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-6);
            padding-bottom: var(--space-3);
            border-bottom: 1px solid var(--secondary-200);
        }
        
        .form-title {
            font-size: var(--text-xl);
            font-weight: var(--font-semibold);
            color: var(--secondary-900);
        }
        
        .form-group {
            margin-bottom: var(--space-4);
        }
        
        .form-label {
            display: block;
            font-size: var(--text-sm);
            font-weight: var(--font-medium);
            color: var(--secondary-700);
            margin-bottom: var(--space-2);
        }
        
        .form-description {
            font-size: var(--text-xs);
            color: var(--secondary-500);
            margin-top: var(--space-1);
        }
        
        /* 아이디어 목록 */
        .ideas-section {
            background: white;
            border: 1px solid var(--secondary-200);
            border-radius: var(--rounded-lg);
            padding: var(--space-6);
            box-shadow: var(--shadow-sm);
        }
        
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-6);
            padding-bottom: var(--space-3);
            border-bottom: 1px solid var(--secondary-200);
        }
        
        .section-title {
            font-size: var(--text-xl);
            font-weight: var(--font-semibold);
            color: var(--secondary-900);
        }
        
        .idea-item {
            border: 1px solid var(--secondary-200);
            border-radius: var(--rounded-lg);
            padding: var(--space-4);
            margin-bottom: var(--space-4);
            transition: all var(--duration-fast) var(--ease-in-out);
        }
        
        .idea-item:hover {
            box-shadow: var(--shadow-sm);
            border-color: var(--secondary-300);
        }
        
        .idea-item:last-child {
            margin-bottom: 0;
        }
        
        .idea-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--space-3);
        }
        
        .idea-title {
            font-size: var(--text-lg);
            font-weight: var(--font-semibold);
            color: var(--secondary-900);
            margin-bottom: var(--space-1);
        }
        
        .idea-meta {
            font-size: var(--text-sm);
            color: var(--secondary-500);
        }
        
        .idea-content {
            color: var(--secondary-700);
            line-height: 1.6;
            margin-bottom: var(--space-3);
        }
        
        .idea-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .idea-category {
            padding: var(--space-1) var(--space-2);
            border-radius: var(--rounded-full);
            font-size: var(--text-xs);
            font-weight: var(--font-medium);
        }
        
        .category-feature { background: var(--primary-100); color: var(--primary-700); }
        .category-improvement { background: var(--success) / 0.2; color: var(--success-dark); }
        .category-content { background: var(--warning) / 0.2; color: var(--warning-dark); }
        .category-bug { background: var(--error-100); color: var(--error-700); }
        
        .idea-actions {
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }
        
        .vote-buttons {
            display: flex;
            gap: var(--space-2);
        }
        
        .vote-btn {
            background: none;
            border: 1px solid var(--secondary-300);
            border-radius: var(--rounded-md);
            padding: var(--space-1) var(--space-2);
            cursor: pointer;
            transition: all var(--duration-fast) var(--ease-in-out);
            font-size: var(--text-sm);
        }
        
        .vote-btn:hover {
            background: var(--secondary-100);
        }
        
        .vote-btn.liked {
            background: var(--success) / 0.2;
            border-color: var(--success);
            color: var(--success-dark);
        }
        
        .vote-btn.disliked {
            background: var(--error-100);
            border-color: var(--error-500);
            color: var(--error-700);
        }
        
        /* 통계 위젯 */
        .stats-widget {
            background: white;
            border: 1px solid var(--secondary-200);
            border-radius: var(--rounded-lg);
            padding: var(--space-6);
            box-shadow: var(--shadow-sm);
        }
        
        .widget-title {
            font-size: var(--text-lg);
            font-weight: var(--font-semibold);
            color: var(--secondary-900);
            margin-bottom: var(--space-4);
        }
        
        .stat-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-3) 0;
            border-bottom: 1px solid var(--secondary-100);
        }
        
        .stat-item:last-child {
            border-bottom: none;
        }
        
        .stat-label {
            color: var(--secondary-600);
            font-size: var(--text-sm);
        }
        
        .stat-value {
            font-weight: var(--font-semibold);
            color: var(--secondary-900);
        }
        
        /* 필터 */
        .filters {
            display: flex;
            gap: var(--space-3);
            margin-bottom: var(--space-4);
        }
        
        .filter-btn {
            padding: var(--space-2) var(--space-3);
            border: 1px solid var(--secondary-300);
            background: white;
            border-radius: var(--rounded-md);
            cursor: pointer;
            transition: all var(--duration-fast) var(--ease-in-out);
            font-size: var(--text-sm);
        }
        
        .filter-btn.active {
            background: var(--primary-600);
            border-color: var(--primary-600);
            color: white;
        }
        
        .filter-btn:hover {
            border-color: var(--primary-600);
            color: var(--primary-600);
        }
        
        /* 반응형 디자인 */
        @media (max-width: 1024px) {
            .feedback-layout {
                grid-template-columns: 1fr;
            }
            
            .feedback-sidebar {
                order: -1;
            }
        }
        
        @media (max-width: 768px) {
            .app-layout {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
            }
            
            .filters {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <div class="app-layout">
        <!-- 사이드바 -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <span style="font-size: 24px;">💡</span>
                    아이디어 제안
                </div>
                <div class="user-info">더 나은 서비스를 위한 제안</div>
            </div>
            
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-title">메뉴</div>
                    <div class="nav-item" onclick="location.href='main-layout.html'">
                        <span class="nav-item-icon">🏠</span>메인 화면
                    </div>
                    <div class="nav-item" onclick="location.href='edit-layout.html'">
                        <span class="nav-item-icon">✏️</span>문구 편집
                    </div>
                    <div class="nav-item" onclick="location.href='my-notices.html'">
                        <span class="nav-item-icon">💾</span>내 컬렉션
                    </div>
                    <div class="nav-item" onclick="location.href='dashboard-layout.html'">
                        <span class="nav-item-icon">📊</span>사용 통계
                    </div>
                    <div class="nav-item active">
                        <span class="nav-item-icon">💡</span>피드백
                    </div>
                </div>
                
                <div style="margin-top: auto; padding: var(--space-6);">
                    <button class="btn btn-secondary" onclick="location.href='login.html'" style="width: 100%; background: var(--secondary-700); border-color: var(--secondary-600); color: white;">로그아웃</button>
                </div>
            </nav>
        </aside>

        <!-- 메인 콘텐츠 -->
        <main class="main-content">
            <div class="top-bar">
                <h1 class="page-title">💡 아이디어 제안 및 피드백</h1>
                <div class="top-actions">
                    <button class="btn btn-outline">📊 내 제안 현황</button>
                </div>
            </div>

            <div class="content-area">
                <div class="feedback-layout">
                    <!-- 메인 영역 -->
                    <div class="feedback-main">
                        <!-- 새 아이디어 제안 폼 -->
                        <div class="suggestion-form">
                            <div class="form-header">
                                <h2 class="form-title">💡 새 아이디어 제안하기</h2>
                                <span style="font-size: var(--text-sm); color: var(--secondary-500);">모든 제안은 검토 후 반영됩니다</span>
                            </div>
                            
                            <form id="suggestion-form">
                                <div class="form-group">
                                    <label class="form-label">제안 유형</label>
                                    <select class="select-field" name="category" required>
                                        <option value="">선택해주세요</option>
                                        <option value="feature">새로운 기능 추가</option>
                                        <option value="improvement">기존 기능 개선</option>
                                        <option value="content">콘텐츠 추가</option>
                                        <option value="bug">버그 신고</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">제목</label>
                                    <input type="text" class="input-field" name="title" placeholder="간단명료한 제목을 입력해주세요" required>
                                    <div class="form-description">예: "카테고리별 즐겨찾기 기능 추가", "AI 문구 추천 정확도 개선"</div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">상세 설명</label>
                                    <textarea class="input-field" name="description" rows="5" placeholder="구체적인 내용과 기대 효과를 설명해주세요" required></textarea>
                                    <div class="form-description">현재 불편한 점, 개선 방안, 기대 효과 등을 상세히 작성해주세요</div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label">우선순위</label>
                                    <select class="select-field" name="priority">
                                        <option value="low">낮음 - 있으면 좋은 기능</option>
                                        <option value="medium" selected>보통 - 개선이 필요한 기능</option>
                                        <option value="high">높음 - 시급한 문제</option>
                                    </select>
                                </div>
                                
                                <div style="display: flex; gap: var(--space-3); justify-content: flex-end;">
                                    <button type="reset" class="btn btn-outline">초기화</button>
                                    <button type="submit" class="btn btn-primary">제안하기</button>
                                </div>
                            </form>
                        </div>

                        <!-- 아이디어 목록 -->
                        <div class="ideas-section">
                            <div class="section-header">
                                <h2 class="section-title">📋 커뮤니티 아이디어</h2>
                                <div class="filters">
                                    <button class="filter-btn active" data-filter="all">전체</button>
                                    <button class="filter-btn" data-filter="feature">새 기능</button>
                                    <button class="filter-btn" data-filter="improvement">개선</button>
                                    <button class="filter-btn" data-filter="content">콘텐츠</button>
                                    <button class="filter-btn" data-filter="bug">버그</button>
                                </div>
                            </div>
                            
                            <!-- 아이디어 항목 1 -->
                            <div class="idea-item" data-category="feature">
                                <div class="idea-header">
                                    <div>
                                        <h3 class="idea-title">카테고리별 즐겨찾기 기능</h3>
                                        <div class="idea-meta">김선생님 • 2일 전 • 검토 중</div>
                                    </div>
                                    <div class="idea-category category-feature">새 기능</div>
                                </div>
                                
                                <div class="idea-content">
                                    자주 사용하는 문구들을 카테고리별로 즐겨찾기에 추가할 수 있으면 좋겠습니다. 
                                    특히 안전 관련 문구는 시즌마다 반복 사용하는데, 매번 검색하기가 번거로워요.
                                </div>
                                
                                <div class="idea-footer">
                                    <div class="idea-actions">
                                        <div class="vote-buttons">
                                            <button class="vote-btn" data-vote="up">👍 15</button>
                                            <button class="vote-btn" data-vote="down">👎 2</button>
                                        </div>
                                        <span style="font-size: var(--text-sm); color: var(--secondary-500);">17명 참여</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 아이디어 항목 2 -->
                            <div class="idea-item" data-category="improvement">
                                <div class="idea-header">
                                    <div>
                                        <h3 class="idea-title">AI 문구 추천 정확도 개선</h3>
                                        <div class="idea-meta">이선생님 • 1주일 전 • 개발 예정</div>
                                    </div>
                                    <div class="idea-category category-improvement">개선</div>
                                </div>
                                
                                <div class="idea-content">
                                    현재 날짜 기반 추천은 좋지만, 사용자의 이전 사용 패턴도 고려해주면 더 좋을 것 같습니다. 
                                    예를 들어, 안전 관련 문구를 자주 사용하는 교사에게는 안전 문구를 우선 추천해주는 식으로요.
                                </div>
                                
                                <div class="idea-footer">
                                    <div class="idea-actions">
                                        <div class="vote-buttons">
                                            <button class="vote-btn liked" data-vote="up">👍 23</button>
                                            <button class="vote-btn" data-vote="down">👎 1</button>
                                        </div>
                                        <span style="font-size: var(--text-sm); color: var(--secondary-500);">24명 참여</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 아이디어 항목 3 -->
                            <div class="idea-item" data-category="content">
                                <div class="idea-header">
                                    <div>
                                        <h3 class="idea-title">지역별 특색 문구 추가</h3>
                                        <div class="idea-meta">박선생님 • 2주일 전 • 완료</div>
                                    </div>
                                    <div class="idea-category category-content">콘텐츠</div>
                                </div>
                                
                                <div class="idea-content">
                                    각 지역의 특색을 반영한 문구들이 있으면 좋겠습니다. 
                                    예를 들어, 해안가 학교는 바다 관련 안전수칙, 산간 지역은 산악 관련 주의사항 등을 포함해주세요.
                                </div>
                                
                                <div class="idea-footer">
                                    <div class="idea-actions">
                                        <div class="vote-buttons">
                                            <button class="vote-btn" data-vote="up">👍 18</button>
                                            <button class="vote-btn" data-vote="down">👎 3</button>
                                        </div>
                                        <span style="font-size: var(--text-sm); color: var(--secondary-500);">21명 참여 • ✅ 완료</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 아이디어 항목 4 -->
                            <div class="idea-item" data-category="bug">
                                <div class="idea-header">
                                    <div>
                                        <h3 class="idea-title">모바일에서 드래그앤드롭 오류</h3>
                                        <div class="idea-meta">최선생님 • 3일 전 • 수정 중</div>
                                    </div>
                                    <div class="idea-category category-bug">버그</div>
                                </div>
                                
                                <div class="idea-content">
                                    모바일 브라우저에서 편집 페이지의 드래그앤드롭이 제대로 작동하지 않습니다. 
                                    터치로 블록을 이동시키려고 하면 페이지가 스크롤되어버려요.
                                </div>
                                
                                <div class="idea-footer">
                                    <div class="idea-actions">
                                        <div class="vote-buttons">
                                            <button class="vote-btn" data-vote="up">👍 12</button>
                                            <button class="vote-btn" data-vote="down">👎 0</button>
                                        </div>
                                        <span style="font-size: var(--text-sm); color: var(--secondary-500);">12명 참여</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 사이드바 영역 -->
                    <div class="feedback-sidebar">
                        <!-- 제안 통계 -->
                        <div class="stats-widget">
                            <h3 class="widget-title">📊 제안 현황</h3>
                            <div class="stat-item">
                                <span class="stat-label">전체 제안</span>
                                <span class="stat-value">127개</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">검토 중</span>
                                <span class="stat-value">23개</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">개발 예정</span>
                                <span class="stat-value">8개</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">완료</span>
                                <span class="stat-value">45개</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">내 제안</span>
                                <span class="stat-value">3개</span>
                            </div>
                        </div>

                        <!-- 인기 제안 -->
                        <div class="stats-widget">
                            <h3 class="widget-title">🔥 인기 제안</h3>
                            <div>
                                <div style="border-bottom: 1px solid var(--secondary-100); padding-bottom: var(--space-2); margin-bottom: var(--space-3);">
                                    <div style="font-weight: var(--font-medium); color: var(--secondary-900); font-size: var(--text-sm);">카테고리별 즐겨찾기</div>
                                    <div style="font-size: var(--text-xs); color: var(--secondary-500); margin-top: var(--space-1);">👍 15표</div>
                                </div>
                                <div style="border-bottom: 1px solid var(--secondary-100); padding-bottom: var(--space-2); margin-bottom: var(--space-3);">
                                    <div style="font-weight: var(--font-medium); color: var(--secondary-900); font-size: var(--text-sm);">AI 추천 정확도 개선</div>
                                    <div style="font-size: var(--text-xs); color: var(--secondary-500); margin-top: var(--space-1);">👍 23표</div>
                                </div>
                                <div>
                                    <div style="font-weight: var(--font-medium); color: var(--secondary-900); font-size: var(--text-sm);">모바일 UI 개선</div>
                                    <div style="font-size: var(--text-xs); color: var(--secondary-500); margin-top: var(--space-1);">👍 19표</div>
                                </div>
                            </div>
                        </div>

                        <!-- 개발 로드맵 -->
                        <div class="stats-widget">
                            <h3 class="widget-title">🛣️ 개발 로드맵</h3>
                            <div>
                                <div style="border-left: 3px solid var(--success); padding-left: var(--space-3); margin-bottom: var(--space-4);">
                                    <div style="font-weight: var(--font-medium); color: var(--secondary-900); font-size: var(--text-sm);">8월 업데이트</div>
                                    <div style="font-size: var(--text-xs); color: var(--secondary-500);">모바일 드래그앤드롭 수정</div>
                                </div>
                                <div style="border-left: 3px solid var(--warning); padding-left: var(--space-3); margin-bottom: var(--space-4);">
                                    <div style="font-weight: var(--font-medium); color: var(--secondary-900); font-size: var(--text-sm);">9월 업데이트</div>
                                    <div style="font-size: var(--text-xs); color: var(--secondary-500);">즐겨찾기 기능 추가</div>
                                </div>
                                <div style="border-left: 3px solid var(--secondary-300); padding-left: var(--space-3);">
                                    <div style="font-weight: var(--font-medium); color: var(--secondary-900); font-size: var(--text-sm);">10월 계획</div>
                                    <div style="font-size: var(--text-xs); color: var(--secondary-500);">AI 추천 알고리즘 개선</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // 폼 제출 처리
        document.getElementById('suggestion-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const suggestion = {
                category: formData.get('category'),
                title: formData.get('title'),
                description: formData.get('description'),
                priority: formData.get('priority'),
                timestamp: new Date().toISOString(),
                author: '김선생님',
                votes: { up: 0, down: 0 },
                status: 'pending'
            };
            
            // 실제 구현에서는 API 호출
            console.log('새 제안:', suggestion);
            alert('제안이 성공적으로 등록되었습니다! 검토 후 반영하겠습니다.');
            e.target.reset();
        });
        
        // 필터 기능
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // 활성 필터 변경
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                const filter = this.getAttribute('data-filter');
                const ideas = document.querySelectorAll('.idea-item');
                
                ideas.forEach(idea => {
                    if (filter === 'all' || idea.getAttribute('data-category') === filter) {
                        idea.style.display = 'block';
                    } else {
                        idea.style.display = 'none';
                    }
                });
            });
        });
        
        // 투표 기능
        document.querySelectorAll('.vote-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const voteType = this.getAttribute('data-vote');
                const isActive = this.classList.contains('liked') || this.classList.contains('disliked');
                
                // 기존 투표 제거
                const voteButtons = this.parentElement.querySelectorAll('.vote-btn');
                voteButtons.forEach(b => {
                    b.classList.remove('liked', 'disliked');
                });
                
                // 새 투표 적용 (같은 버튼 클릭시 토글)
                if (!isActive) {
                    if (voteType === 'up') {
                        this.classList.add('liked');
                    } else {
                        this.classList.add('disliked');
                    }
                }
                
                // 실제 구현에서는 API 호출하여 투표 수 업데이트
                console.log('투표:', voteType, '활성:', !isActive);
            });
        });
        
        // 아이디어 항목 클릭시 상세 보기
        document.querySelectorAll('.idea-item').forEach(item => {
            item.addEventListener('click', function(e) {
                if (!e.target.closest('.vote-btn')) {
                    // 상세 모달 표시 (실제 구현)
                    console.log('아이디어 상세보기:', this.querySelector('.idea-title').textContent);
                }
            });
        });
    </script>
</body>
</html>
